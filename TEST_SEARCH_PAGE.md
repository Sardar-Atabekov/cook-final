# Тестирование страницы поиска

## Проверка исправлений

### 1. Проверка скелетона при изменении параметров

1. Откройте страницу `/en/search`
2. Добавьте ингредиенты в сайдбар
3. Удалите ингредиенты
4. **Ожидаемый результат**: Должен появиться скелетон загрузки

### 2. Проверка задержки

1. Введите поисковый запрос
2. Измените фильтры
3. **Ожидаемый результат**: Загрузка должна быть быстрой, скелетон показывается сразу

### 3. Проверка URL параметров

Проверьте следующие URL:

```
/en/search?q=pasta
/en/search?ingredients=1,2,3
/en/search?q=chicken&mealType=dinner&country=Italy
/en/search?dietTags=vegetarian,vegan
/en/search?q=salad&page=2
```

### 4. Проверка фильтров

1. Откройте фильтры на мобильном устройстве
2. Выберите тип блюда
3. Выберите страну
4. Выберите диетические теги
5. **Ожидаемый результат**: URL должен обновиться, результаты должны загрузиться

### 5. Проверка синхронизации состояния

1. Откройте страницу с параметрами
2. Обновите страницу
3. **Ожидаемый результат**: Состояние должно восстановиться из URL

## Известные проблемы и их решения

### Проблема: Скелетон не показывается при изменении ингредиентов

**Решение**: Добавлена логика `shouldShowSkeleton` которая учитывает изменение параметров

### Проблема: Задержка при загрузке

**Решение**:

- Улучшен хук `useRecipes` для лучшего отслеживания состояния загрузки
- Добавлен `isFetching` для более точного определения состояния
- Оптимизирована логика использования начальных данных

### Проблема: Ошибки типизации в фильтрах

**Решение**:

- Исправлены типы в `recipe-filters.tsx`
- Добавлены статические массивы для фильтров
- Исправлена типизация параметров URL

## Команды для тестирования

```bash
# Запуск в режиме разработки
npm run dev

# Проверка типов
npm run type-check

# Линтинг
npm run lint
```

## Проверка производительности

1. Откройте DevTools (F12)
2. Перейдите на вкладку Network
3. Выполните поиск
4. Проверьте время загрузки запросов
5. **Ожидаемый результат**: Запросы должны выполняться быстро

## Проверка SEO

1. Откройте DevTools (F12)
2. Перейдите на вкладку Elements
3. Проверьте мета-теги в `<head>`
4. **Ожидаемый результат**: Мета-теги должны соответствовать параметрам поиска

## Проверка доступности

1. Используйте только клавиатуру для навигации
2. Проверьте работу с экранным диктором
3. **Ожидаемый результат**: Все элементы должны быть доступны

## Отчет о тестировании

После выполнения всех тестов заполните:

- [ ] Скелетон показывается при изменении параметров
- [ ] Загрузка работает быстро
- [ ] URL параметры корректно обрабатываются
- [ ] Фильтры работают на всех устройствах
- [ ] Состояние синхронизируется с URL
- [ ] Нет ошибок в консоли
- [ ] SEO мета-теги корректны
- [ ] Доступность соответствует стандартам
